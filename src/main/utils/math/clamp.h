#define clamp(x, min, max) (min < x ? x < max ? x : max : min)
